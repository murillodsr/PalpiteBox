{"ast":null,"code":"import { GoogleSpreadsheet } from 'google-spreadsheet';\nimport credentials from '../../../credentials.json';\nconst doc = new GoogleSpreadsheet('100CYyLU2vRxRrY2CZLK9u0pNXP53UoTVIiT9fAw8lTM'); //request e response\n\nexport default (async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[2];\n    await sheet.loadCells('A4:B4'); //abaixo o que faz o funcionar de forma dinâmica!!!!\n\n    const mostrarPromocaoCell = sheet.getCell(3, 0);\n    const textoCell = sheet.getCell(3, 1);\n    res.end(JSON.stringify({\n      showCoupon: mostrarPromocaoCell.value === 'VERDADEIRO',\n      message: textoCell.value\n    }));\n  } catch (err) {\n    res.end(JSON.stringify({\n      showCoupon: false,\n      message: ''\n    }));\n  }\n});","map":{"version":3,"sources":["E:/dev/projeto1DevPleno/pages/api/get-promo.js"],"names":["GoogleSpreadsheet","credentials","doc","req","res","useServiceAccountAuth","loadInfo","sheet","sheetsByIndex","loadCells","mostrarPromocaoCell","getCell","textoCell","end","JSON","stringify","showCoupon","value","message","err"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,oBAAlC;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AAEA,MAAMC,GAAG,GAAG,IAAIF,iBAAJ,CAAsB,8CAAtB,CAAZ,C,CACA;;AACA,gBAAe,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAI;AACF,UAAMF,GAAG,CAACG,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,UAAMC,GAAG,CAACI,QAAJ,EAAN;AAEA,UAAMC,KAAK,GAAGL,GAAG,CAACM,aAAJ,CAAkB,CAAlB,CAAd;AACA,UAAMD,KAAK,CAACE,SAAN,CAAgB,OAAhB,CAAN,CALE,CAOF;;AACA,UAAMC,mBAAmB,GAAGH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAA5B;AACA,UAAMC,SAAS,GAAGL,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAAlB;AAEAP,IAAAA,GAAG,CAACS,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAe;AACrBC,MAAAA,UAAU,EAAEN,mBAAmB,CAACO,KAApB,KAA8B,YADrB;AAErBC,MAAAA,OAAO,EAAEN,SAAS,CAACK;AAFE,KAAf,CAAR;AAID,GAfD,CAeE,OAAOE,GAAP,EAAY;AACZf,IAAAA,GAAG,CAACS,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAe;AACrBC,MAAAA,UAAU,EAAE,KADS;AAErBE,MAAAA,OAAO,EAAE;AAFY,KAAf,CAAR;AAID;AACF,CAtBD","sourcesContent":["import { GoogleSpreadsheet } from 'google-spreadsheet'\r\nimport credentials from '../../../credentials.json'\r\n\r\nconst doc = new GoogleSpreadsheet('100CYyLU2vRxRrY2CZLK9u0pNXP53UoTVIiT9fAw8lTM')\r\n//request e response\r\nexport default async (req, res) => {\r\n  try {\r\n    await doc.useServiceAccountAuth(credentials)\r\n    await doc.loadInfo()\r\n\r\n    const sheet = doc.sheetsByIndex[2]\r\n    await sheet.loadCells('A4:B4')\r\n\r\n    //abaixo o que faz o funcionar de forma dinâmica!!!!\r\n    const mostrarPromocaoCell = sheet.getCell(3, 0)\r\n    const textoCell = sheet.getCell(3, 1)\r\n\r\n    res.end(JSON.stringify({\r\n      showCoupon: mostrarPromocaoCell.value === 'VERDADEIRO',\r\n      message: textoCell.value\r\n    }))\r\n  } catch (err) {\r\n    res.end(JSON.stringify({\r\n      showCoupon: false,\r\n      message: ''\r\n    }))\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}